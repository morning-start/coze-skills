---
name: skill-standards
version: v1.0.0
author: skill-manager
description: Skill 和 Workflow 标准化规范与检验指南，定义命名、结构、格式等标准，以及检验流程和验收标准
tags: [standards, skill-format, workflow-format, naming, structure, validation]
---

# Skill 与 Workflow 标准规范

## 目录

- [命名规范](#命名规范)
- [目录结构](#目录结构)
- [SKILL.md 格式](#skillmd-格式)
- [WORKFLOW.md 格式](#workflowmd-格式)
- [版本管理](#版本管理)
- [参考文档规范](#参考文档规范)
- [操作流程](#操作流程)
- [标准化检验流程](#标准化检验流程)
- [质量检查清单](#质量检查清单)

## 概览

本规范定义了 Skill 和 Workflow 的标准化格式和组织结构，确保所有技能和工作流具有一致的质量和可维护性。

## 命名规范

### 目录名规范

- **格式**: 小写字母 + 连字符（如 `data-processor`, `pdf-parser`）
- **禁止**: 使用 `-skill` 后缀（目录名不应与打包文件混淆）
- **示例**:
  - ✅ `exam-grading`
  - ✅ `text-analyzer`
  - ❌ `exam-grading-skill`

### 打包文件名

- **格式**: `<skill-name>.skill`（目录名 + `.skill` 扩展名）
- **示例**: `exam-grading.skill`

## 目录结构

### Skill 固定结构

```
<skill-name>/
├── SKILL.md           # 必需：入口与指南
├── scripts/           # 可选：可执行代码
├── references/        # 可选：参考文档
└── assets/            # 可选：静态资源
```

### Workflow 文件结构

```
workflow-name/
├── WORKFLOW.md        # 必需：工作流定义
└── references/        # 可选：辅助文档
```

### 结构规则

1. **必需文件**: SKILL.md 或 WORKFLOW.md 必须存在
2. **可选目录**: scripts/、references/、assets/ 按需创建，不创建空目录
3. **禁止内容**: 不包含 README.md、tmp/、.cache/、__pycache__/ 等临时文件
4. **层级限制**: 最多两层

## SKILL.md 格式

### 前言区（YAML）

#### 必需字段

```yaml
---
name: <skill-name>
version: <版本号，格式 vmajor.minor.patch>
author: <作者或维护者>
description: <单行描述，100-150字符>
tags: [<标签1>, <标签2>, <标签3>]
---
```

#### 可选字段

```yaml
---
dependency:
  python:
    - package==version
  system:
    - mkdir -p some-dir
---
```



### 正文（Markdown）

#### 标准章节结构

```markdown
# <技能标题>

## 任务目标
- 本 Skill 用于: <一句话场景>
- 能力包含: <核心能力要点>
- 触发条件: <典型用户表达或上下文信号>

## 操作步骤
- 标准流程:
  1. <步骤 1: 输入/准备>
  2. <步骤 2: 执行/处理>
  3. <步骤 3: 输出/校验>

## 资源索引
- 领域参考: 见 [references/<topic>.md](references/<topic>.md)(何时读取: <触发/场景>)

## 注意事项
- <重要注意事项>

## 使用示例
- <示例 1>
```

#### 正文规则

1. **体量限制**: 不超过 500 行
2. **链接层级**: 参考文档为一层链接
3. **语气**: 使用祈使/不定式表达（如"执行..."、"创建..."）

## WORKFLOW.md 格式

### 前言区（YAML）

#### 必需字段

```yaml
---
name: <workflow-name>
description: <工作流描述>
target: <目标说明>
skills_required: [skill-1, skill-2, skill-3]
---
```

#### 可选字段

```yaml
metadata:
  version: "1.0.0"
  estimated_time: "30分钟"
  complexity: "中等"
  tags: [标签列表]
```

### 正文（Markdown）

#### 标准章节结构

```markdown
# <工作流名称>

## 目标
<详细描述工作流要达成的目标>

## 前置条件
- <条件1>
- <条件2>

## 技能清单
- <skill-1>: <用途说明>
- <skill-2>: <用途说明>

## 执行流程

### 步骤 1: <步骤名称>
- **使用技能**: <skill-name>
- **输入**: <输入描述>
- **操作**: <具体操作说明>
- **输出**: <输出描述>
- **下一步**: <下一步骤>

### 步骤 2: <步骤名称>
...

## 异常处理
- <异常情况1>: <处理方式>

## 输出交付物
- <交付物1>
- <交付物2>

## 示例
<完整示例说明>
```

### 步骤说明规范

每个步骤必须包含：

- **使用技能**: 明确调用的技能名称
- **输入**: 该步骤需要的输入数据或条件
- **操作**: 具体的执行操作说明
- **输出**: 该步骤产生的输出结果
- **下一步**: 指向下一步骤或结束

### 异常处理规范

必须包含：

- 可能的异常情况
- 对应的处理方式
- 回退或重试机制

## 版本管理

### 语义化版本

- **格式**: `major.minor.patch`（如 1.2.3）
- **递增规则**:
  - major: 破坏性变更
  - minor: 新增功能
  - patch: 错误修复

### 变更日志

每次版本更新应记录：

- 版本号
- 变更类型（新增/修改/删除）
- 影响范围
- 迁移指南（如需要）

## 参考文档规范

### 文件命名

- 使用小写字母和连字符（如 `data-formats.md`, `api-reference.md`）

### 结构要求

```markdown
# <Topic>

## 目录(超过100行必需)
- [章节1](#章节1)

## 概览
一句话定义与适用范围

## 核心内容
- 数据结构/格式定义(含完整示例)
- 验证规则
- 常见操作(输入→处理→输出)

## 示例
2-3 个可复制执行的标准示例
```

### 内容要求

- **超过 100 行**: 必须包含目录（TOC）
- **被依赖时**: 必须提供完整的格式定义、示例和验证规则

## 标准化检验流程

### 检验触发时机

- **创建新技能后**: 完成 SKILL.md 编写后执行完整检验
- **修改技能后**: 任何修改完成后执行针对性检验
- **更新版本前**: 发布新版本前执行全面检验

### 检验步骤

1. **前言区字段检查**: 验证所有必需字段存在且格式正确
2. **正文内容检查**: 验证结构完整性和内容质量
3. **参考文档检查**: 验证链接有效性和文档完整性
4. **修改后专项检验**: 验证版本更新和兼容性

### 检验流程

#### 步骤 1: 自动化检查

使用以下命令进行基础检查：

```bash
# 检查前言区字段
head -10 skill-name/SKILL.md

# 检查描述长度
grep "description:" skill-name/SKILL.md | wc -c

# 统计正文行数
tail -n +6 skill-name/SKILL.md | wc -l

# 检查标签数量
grep "tags:" skill-name/SKILL.md
```

#### 步骤 2: 人工审核

- 阅读 SKILL.md 全文
- 验证逻辑一致性
- 检查示例可行性

#### 步骤 3: 交叉验证

- 对比参考文档
- 验证能力描述
- 确认触发条件

## 质量检查清单

### 前言区

- [ ] name 符合命名规范
- [ ] version 存在且格式正确（vmajor.minor.patch）
- [ ] author 存在且不为空
- [ ] description 为单行文本，长度 100-150 字符
- [ ] tags 存在且包含至少 3 个标签

### 正文

- [ ] 不超过 500 行
- [ ] 包含任务目标、操作步骤章节
- [ ] 链接为一层引用
- [ ] 核心能力与可选能力区分明确

### WORKFLOW.md 特定检查

- [ ] 包含目标、前置条件、技能清单
- [ ] 执行流程步骤清晰
- [ ] 每个步骤包含完整信息（技能、输入、操作、输出、下一步）
- [ ] 包含异常处理
- [ ] 包含输出交付物说明

### 目录结构

- [ ] 仅包含必需文件和有内容的子目录
- [ ] 无空目录
- [ ] 无临时文件

## 修改后专项检验

### 版本更新检验

- [ ] 版本号已更新（如需要）
- [ ] 版本号递增合理（major/minor/patch）
- [ ] 变更内容已记录
- [ ] 影响范围已评估

### 兼容性检验

- [ ] 未破坏现有功能
- [ ] 接口变更已说明（如有）
- [ ] 向后兼容性已考虑

## 操作流程

所有技能操作遵循三步流程：查阅 → 执行 → 检查

### 第一步：查阅信息

1. 阅读本文档了解规范
2. 检查现有技能结构（如修改）
3. 明确技能目标和使用场景

### 第二步：执行操作

1. 创建/修改 SKILL.md
2. 编写任务目标和操作步骤
3. 添加使用示例和注意事项
4. 更新版本号（如需要）

### 第三步：检查验收

1. 执行标准化检验（使用本文档的检查清单）
2. 验证前言区字段完整性
3. 确认文档质量和一致性
