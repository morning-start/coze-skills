---
name: git-doc-isolation
description: Git æ–‡æ¡£éš”ç¦»ç®¡ç†æŠ€èƒ½ï¼Œä½¿ç”¨å­¤ç«‹åˆ†æ”¯ç­–ç•¥ç¡®ä¿ docs/ ç›®å½•ç»ä¸è¿›å…¥ main åˆ†æ”¯å†å²ï¼Œæ”¯æŒæœ¬åœ°å¼€å‘æ–‡æ¡£çš„å®‰å…¨ç®¡ç†å’Œä¸´æ—¶ä½¿ç”¨
metadata:
  capabilities: [Gitåˆ†æ”¯ç®¡ç†, æ–‡æ¡£éš”ç¦», å­¤ç«‹åˆ†æ”¯åˆ›å»º, æ–‡æ¡£å®‰å…¨ç­–ç•¥, åˆ†æ”¯åˆå¹¶é˜²æŠ¤, ä»»åŠ¡å¤„ç†å·¥ä½œæµ]
  version: "2.0.0"
  tags: [git, æ–‡æ¡£ç®¡ç†, åˆ†æ”¯ç­–ç•¥, å¼€å‘å·¥ä½œæµ, ä»»åŠ¡å¤„ç†, ä¸‰é˜¶æ®µå·¥ä½œæµ]
  use_cases:
    - æœ¬åœ°å¼€å‘æ–‡æ¡£ç®¡ç†
    - é˜²æ­¢æ–‡æ¡£æ±¡æŸ“ä¸»å¹²åˆ†æ”¯
    - å¤šåˆ†æ”¯æ–‡æ¡£å…±äº«
    - å®‰å…¨æ–‡æ¡£å·¥ä½œæµ
    - åŸºäºæ–‡æ¡£çš„ä»»åŠ¡å¤„ç†ï¼ˆä¸‰é˜¶æ®µï¼‰
  preconditions:
    - Git ä»“åº“å·²åˆå§‹åŒ–
    - å…·æœ‰åˆ†æ”¯ç®¡ç†æƒé™
    - Git ç‰ˆæœ¬ >= 2.0
  posteffects:
    - åˆ›å»ºç‹¬ç«‹çš„ docs å­¤ç«‹åˆ†æ”¯
    - åˆ›å»ºç‹¬ç«‹çš„ temp ä¸´æ—¶æ–‡æ¡£åˆ†æ”¯
    - main åˆ†æ”¯å†å²ä¿æŒå¹²å‡€ï¼ˆæ—  docs/ï¼‰
    - task åˆ†æ”¯å¯è·å–æŒ‡å®šæ–‡æ¡£æ‰§è¡Œä»»åŠ¡
    - ä»»åŠ¡æ–‡æ¡£æ›´æ–°ä¸ä»£ç æäº¤åˆ†ç¦»
  cost_estimate:
    time: "5-10åˆ†é’Ÿ"
    complexity: "ä¸­ç­‰"
  reliability_score: 0.98
  author: "skill-manager"
  created_at: "2026-02-27"
  updated_at: "2026-02-27"
  dependencies:
    system:
      - git >= 2.0
    env_vars:
      - name: "GIT_AUTHOR_NAME"
        required: false
      - name: "GIT_AUTHOR_EMAIL"
        required: false
  error_codes:
    - code: "BRANCH_EXISTS"
      message: "åˆ†æ”¯å·²å­˜åœ¨"
      severity: "warning"
      fallback_action: "åˆ‡æ¢åˆ°ç°æœ‰åˆ†æ”¯æˆ–åˆ é™¤åé‡å»º"
    - code: "UNCLEAN_WORKING_DIR"
      message: "å·¥ä½œåŒºæœ‰æœªæäº¤çš„æ›´æ”¹"
      severity: "error"
      fallback_action: "æäº¤æˆ–æš‚å­˜å½“å‰æ›´æ”¹åå†ç»§ç»­"
    - code: "DOCS_IN_HISTORY"
      message: "main åˆ†æ”¯å†å²ä¸­å‘ç° docs/ ç›®å½•"
      severity: "error"
      fallback_action: "ä½¿ç”¨ git filter-repo æ¸…é™¤å†å²ï¼Œæˆ–åˆ›å»ºæ–°çš„å¹²å‡€ä»“åº“"
    - code: "MERGE_REJECTED"
      message: "æ— æ³•åˆå¹¶å­¤ç«‹åˆ†æ”¯ï¼ˆæ— å…±åŒç¥–å…ˆï¼‰"
      severity: "info"
      fallback_action: "è¿™æ˜¯é¢„æœŸè¡Œä¸ºï¼Œè¯´æ˜éš”ç¦»æœ‰æ•ˆã€‚å¦‚éœ€å¼ºåˆ¶åˆå¹¶ï¼Œä½¿ç”¨ --allow-unrelated-historiesï¼ˆä¸æ¨èï¼‰"
---

# Git æ–‡æ¡£éš”ç¦»ç®¡ç†

## ä»»åŠ¡ç›®æ ‡

æœ¬ Skill ç”¨äºç®¡ç†æœ¬åœ°å¼€å‘æ–‡æ¡£ï¼Œç¡®ä¿ docs/ ç›®å½•ç»ä¸è¿›å…¥ main åˆ†æ”¯çš„ Git å†å²ã€‚

**æ ¸å¿ƒèƒ½åŠ›ï¼š**
- åˆ›å»ºå­¤ç«‹æ–‡æ¡£åˆ†æ”¯ï¼ˆdocsï¼‰
- åˆ›å»ºä¸´æ—¶æ–‡æ¡£åˆ†æ”¯ï¼ˆtempï¼‰
- å®‰å…¨æå–æ–‡æ¡£åˆ°ä»»åŠ¡åˆ†æ”¯
- åˆ†æ”¯åˆå¹¶é˜²æŠ¤
- æ–‡æ¡£éš”ç¦»éªŒè¯
- **ä¸‰é˜¶æ®µä»»åŠ¡å¤„ç†å·¥ä½œæµ**ï¼šå‡†å¤‡é˜¶æ®µ â†’ æ‰§è¡Œé˜¶æ®µ â†’ å®Œæˆé˜¶æ®µ

**è§¦å‘æ¡ä»¶ï¼š**
- éœ€è¦åœ¨æœ¬åœ°ç»´æŠ¤å¼€å‘æ–‡æ¡£ä½†ä¸æƒ³å°†å…¶æäº¤åˆ°ä¸»å¹²åˆ†æ”¯
- éœ€è¦åŸºäº docs åˆ†æ”¯ä¸­çš„ä»»åŠ¡æ–‡æ¡£æ‰§è¡Œå¼€å‘ä»»åŠ¡

---

## æ ¸å¿ƒåŸåˆ™

### ç»å¯¹éš”ç¦»åŸåˆ™
- **main åˆ†æ”¯å†å²å¹²å‡€**: docs/ ç›®å½•ä»æœªå‡ºç°åœ¨ main åˆ†æ”¯çš„ä»»ä½•æäº¤ä¸­
- **docs åˆ†æ”¯å®Œå…¨ç‹¬ç«‹**: ä½¿ç”¨ orphan åˆ†æ”¯åˆ›å»ºï¼Œä¸ main æ— å…±åŒå†å²
- **temp åˆ†æ”¯ç‹¬ç«‹**: ç”¨äºå­˜æ”¾ä¸´æ—¶æ–‡æ¡£ï¼Œä¸ main æ— å…±åŒå†å²
- **æ— æ³•é™é»˜åˆå¹¶**: ç”±äºæ— å…±åŒç¥–å…ˆï¼Œè¯¯æ“ä½œ merge ä¼šç«‹å³æŠ¥é”™

### ä¸‰é˜¶æ®µåˆ†ç¦»åŸåˆ™
- **ç¬¬ä¸€é˜¶æ®µï¼ˆå‡†å¤‡ï¼‰**: åªè´Ÿè´£åˆ›å»º temp åˆ†æ”¯ï¼Œå­˜æ”¾ä¸´æ—¶æ–‡æ¡£
- **ç¬¬äºŒé˜¶æ®µï¼ˆæ‰§è¡Œï¼‰**: åªè´Ÿè´£åˆ›å»º task åˆ†æ”¯ï¼Œå±•ç¤ºæ–‡æ¡£å¹¶æ‰§è¡Œä»»åŠ¡
- **ç¬¬ä¸‰é˜¶æ®µï¼ˆå®Œæˆï¼‰**: åªè´Ÿè´£æ¸…ç†ã€æ›´æ–°æ–‡æ¡£ã€åˆå¹¶ä»£ç 

---

## ä¸‰é˜¶æ®µä»»åŠ¡å¤„ç†å·¥ä½œæµ

### ç¬¬ä¸€é˜¶æ®µï¼šå‡†å¤‡ï¼ˆåˆ›å»º temp åˆ†æ”¯ï¼‰

**è§¦å‘æç¤ºè¯ï¼š** "å¼€å§‹å‡†å¤‡é˜¶æ®µ" / "åˆ›å»º temp åˆ†æ”¯" / "åˆå§‹åŒ–ä¸´æ—¶æ–‡æ¡£"

**åŠŸèƒ½ï¼š** åˆ›å»º temp åˆ†æ”¯ï¼Œç”¨äºå­˜æ”¾ä¸´æ—¶çš„ä»»åŠ¡æ–‡æ¡£

**æ‰§è¡Œæ­¥éª¤ï¼š**

```bash
# 1. åˆ‡æ¢åˆ° main åˆ†æ”¯ï¼Œç¡®ä¿èµ·ç‚¹å¹²å‡€
git checkout main

# 2. éªŒè¯ main åˆ†æ”¯çŠ¶æ€
git status  # åº”æ— æœªæäº¤æ›´æ”¹

# 3. åˆ›å»º temp å­¤ç«‹åˆ†æ”¯ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
git checkout --orphan temp

# 4. æ¸…ç©ºå·¥ä½œåŒº
git rm -rf .

# 5. åˆ›å»ºä¸´æ—¶æ–‡æ¡£ç›®å½•
temp_docs="task-$(date +%Y%m%d-%H%M%S)"
mkdir -p "$temp_docs"

# 6. æ·»åŠ è¯´æ˜æ–‡æ¡£
cat > "$temp_docs/README.md" << 'EOF'
# ä¸´æ—¶ä»»åŠ¡æ–‡æ¡£

æ­¤ç›®å½•ç”¨äºå­˜æ”¾ä¸´æ—¶çš„ä»»åŠ¡æ–‡æ¡£ã€‚

## ä½¿ç”¨è¯´æ˜
1. å°†ä»»åŠ¡ç›¸å…³çš„æ–‡æ¡£æ”¾å…¥æ­¤ç›®å½•
2. æ–‡æ¡£å°†è¢«ç”¨äºç¬¬äºŒé˜¶æ®µçš„ä»»åŠ¡æ‰§è¡Œ
3. ä»»åŠ¡å®Œæˆåï¼Œæ­¤åˆ†æ”¯çš„æ–‡æ¡£å°†è¢«æ›´æ–°

## æ–‡æ¡£åˆ—è¡¨
- task-instruction.md: ä»»åŠ¡æ‰§è¡ŒæŒ‡ä»¤
- requirements.md: éœ€æ±‚æ–‡æ¡£
- design.md: è®¾è®¡æ–‡æ¡£
EOF

# 7. æäº¤åˆå§‹æ–‡æ¡£
git add "$temp_docs/"
git commit -m "chore(temp): åˆå§‹åŒ–ä¸´æ—¶æ–‡æ¡£ç›®å½• $temp_docs"

# 8. å›åˆ° main
git checkout main

echo "âœ… å‡†å¤‡é˜¶æ®µå®Œæˆï¼štemp åˆ†æ”¯å·²åˆ›å»ºï¼Œä¸´æ—¶æ–‡æ¡£ç›®å½•: $temp_docs"
```

**è¾“å‡ºï¼š**
- temp åˆ†æ”¯å·²åˆ›å»º
- ä¸´æ—¶æ–‡æ¡£ç›®å½•å·²åˆå§‹åŒ–
- å›åˆ° main åˆ†æ”¯

---

### ç¬¬äºŒé˜¶æ®µï¼šæ‰§è¡Œï¼ˆåˆ›å»º task åˆ†æ”¯å¹¶å±•ç¤ºæ–‡æ¡£ï¼‰

**è§¦å‘æç¤ºè¯ï¼š** "å¼€å§‹æ‰§è¡Œé˜¶æ®µ" / "åˆ›å»º task åˆ†æ”¯" / "å±•ç¤ºæ–‡æ¡£å¹¶æ‰§è¡Œä»»åŠ¡"

**åŠŸèƒ½ï¼š** åŸºäº main åˆ›å»º task åˆ†æ”¯ï¼Œä» temp åˆ†æ”¯å±•ç¤ºæ–‡æ¡£ï¼Œæ‰§è¡Œä»»åŠ¡

**å‰ç½®æ¡ä»¶ï¼š** ç¬¬ä¸€é˜¶æ®µå·²å®Œæˆï¼Œtemp åˆ†æ”¯å­˜åœ¨

**æ‰§è¡Œæ­¥éª¤ï¼š**

```bash
# 1. åˆ‡æ¢åˆ° main åˆ†æ”¯
git checkout main

# 2. åŸºäº main åˆ›å»º task åˆ†æ”¯
task_name="task-$(date +%Y%m%d-%H%M%S)"
git checkout -b "$task_name"

# 3. ä» temp åˆ†æ”¯å±•ç¤ºæŒ‡å®šæ–‡æ¡£
echo "ğŸ“„ ä» temp åˆ†æ”¯è·å–æ–‡æ¡£..."

# è·å–æ–‡æ¡£åˆ—è¡¨
git ls-tree --name-only -r temp

# å±•ç¤ºæŒ‡å®šæ–‡æ¡£åˆ°å½“å‰ç›®å½•
# æ”¯æŒå¤šä¸ªæ–‡æ¡£
git show temp:task-*/task-instruction.md > task-instruction.md 2>/dev/null || echo "âš ï¸  task-instruction.md ä¸å­˜åœ¨"
git show temp:task-*/requirements.md > requirements.md 2>/dev/null || echo "âš ï¸ï¸  requirements.md ä¸å­˜åœ¨"
git show temp:task-*/design.md > design.md 2>/dev/null || echo "âš ï¸ï¸  design.md ä¸å­˜åœ¨"

# 4. æ˜¾ç¤ºæ–‡æ¡£å†…å®¹
echo ""
echo "ğŸ“‹ æ–‡æ¡£å†…å®¹é¢„è§ˆï¼š"
echo "=================="
[ -f task-instruction.md ] && cat task-instruction.md
[ -f requirements.md ] && cat requirements.md
[ -f design.md ] && cat design.md
echo "=================="

# 5. æ ‡è®°æ–‡æ¡£ä¸ºä¸´æ—¶æ–‡ä»¶ï¼ˆä¸è·Ÿè¸ªï¼‰
# è¿™äº›æ–‡æ¡£å°†åœ¨ç¬¬ä¸‰é˜¶æ®µåˆ é™¤
echo "*.md" > .git/info/exclude

echo "âœ… æ‰§è¡Œé˜¶æ®µå‡†å¤‡å®Œæˆ"
echo "ğŸ“ å½“å‰åˆ†æ”¯: $task_name"
echo "ğŸ“„ ä¸´æ—¶æ–‡æ¡£å·²å±•ç¤ºåˆ°å½“å‰ç›®å½•"
echo "ğŸ’¡ è¯·æ ¹æ®æ–‡æ¡£å†…å®¹æ‰§è¡Œä»»åŠ¡"
```

**è¾“å‡ºï¼š**
- task åˆ†æ”¯å·²åˆ›å»º
- æ–‡æ¡£å·²ä» temp åˆ†æ”¯å±•ç¤ºåˆ°å½“å‰ç›®å½•
- æ–‡æ¡£è¢«æ ‡è®°ä¸ºä¸´æ—¶æ–‡ä»¶ï¼ˆä¸è¿›å…¥ git å†å²ï¼‰

**æ‰§è¡Œé˜¶æ®µä»»åŠ¡ï¼š**
```bash
# æ ¹æ®å±•ç¤ºçš„æ–‡æ¡£æ‰§è¡Œä»»åŠ¡
# ... æ‰§è¡Œå¼€å‘ä»»åŠ¡ ...

# ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥éšæ—¶æäº¤ä»£ç 
git add src/
git commit -m "feat: å®ç° xxx åŠŸèƒ½"

# ç»§ç»­æ‰§è¡Œ...
```

---

### ç¬¬ä¸‰é˜¶æ®µï¼šå®Œæˆï¼ˆæ¸…ç†ã€æ›´æ–°ã€åˆå¹¶ï¼‰

**è§¦å‘æç¤ºè¯ï¼š** "å¼€å§‹å®Œæˆé˜¶æ®µ" / "å®Œæˆä»»åŠ¡" / "æ¸…ç†å¹¶åˆå¹¶"

**åŠŸèƒ½ï¼š** æ¸…ç† task åˆ†æ”¯çš„ä¸´æ—¶æ–‡æ¡£ï¼Œæ›´æ–° temp åˆ†æ”¯ï¼Œåˆå¹¶ä»£ç åˆ° main

**å‰ç½®æ¡ä»¶ï¼š** ç¬¬äºŒé˜¶æ®µå·²å®Œæˆï¼Œä»£ç ä¿®æ”¹å·²æäº¤åˆ° task åˆ†æ”¯

**æ‰§è¡Œæ­¥éª¤ï¼š**

```bash
# ========== æ­¥éª¤ 1: æ¸…ç† task åˆ†æ”¯ ==========

echo "ğŸ§¹ æ­¥éª¤ 1: æ¸…ç† task åˆ†æ”¯çš„ä¸´æ—¶æ–‡æ¡£..."

# åˆ é™¤ä¸´æ—¶æ–‡æ¡£ï¼ˆè¿™äº›æ–‡æ¡£ä¸è¿›å…¥ä»£ç å†å²ï¼‰
rm -f task-instruction.md requirements.md design.md

# æ¸…é™¤ exclude é…ç½®
rm -f .git/info/exclude

# éªŒè¯å·¥ä½œåŒºå¹²å‡€
git status

# ========== æ­¥éª¤ 2: æäº¤ä»£ç ä¿®æ”¹ ==========

echo "ğŸ’¾ æ­¥éª¤ 2: æäº¤ä»£ç ä¿®æ”¹..."

# æ·»åŠ æ‰€æœ‰ä»£ç ä¿®æ”¹
git add .

# æäº¤ï¼ˆæ­¤æ—¶ä¸åº”åŒ…å«ä»»ä½•ä¸´æ—¶æ–‡æ¡£ï¼‰
git commit -m "feat: å®Œæˆä»»åŠ¡ $(date +%Y%m%d-%H%M%S)"

# ========== æ­¥éª¤ 3: æ›´æ–° temp åˆ†æ”¯ ==========

echo "ğŸ“ æ­¥éª¤ 3: æ›´æ–° temp åˆ†æ”¯çš„æ–‡æ¡£..."

# ä¿å­˜å½“å‰åˆ†æ”¯
current_branch=$(git branch --show-current)

# åˆ‡æ¢åˆ° temp åˆ†æ”¯
git checkout temp

# æ›´æ–°æ–‡æ¡£ï¼ˆæ ‡è®°ä¸ºå·²å®Œæˆæˆ–æ·»åŠ æ‰§è¡Œè®°å½•ï¼‰
temp_docs=$(ls -d task-* 2>/dev/null | head -1)
if [ -n "$temp_docs" ]; then
    cat >> "$temp_docs/README.md" << EOF

## æ‰§è¡Œè®°å½•

- å®Œæˆæ—¶é—´: $(date)
- æ‰§è¡Œåˆ†æ”¯: $current_branch
- çŠ¶æ€: âœ… å·²å®Œæˆ
EOF
    
    git add "$temp_docs/"
    git commit -m "docs(temp): æ›´æ–°æ–‡æ¡£ï¼Œæ ‡è®°ä»»åŠ¡å®Œæˆ"
fi

# ========== æ­¥éª¤ 4: åˆå¹¶åˆ° main ==========

echo "ğŸ”€ æ­¥éª¤ 4: åˆå¹¶ä»£ç åˆ° main..."

# åˆ‡æ¢åˆ° main
git checkout main

# åˆå¹¶ task åˆ†æ”¯
git merge "$current_branch" -m "feat: åˆå¹¶ $current_branch åˆ° main"

# åˆ é™¤ task åˆ†æ”¯
git branch -d "$current_branch"

echo "âœ… å®Œæˆé˜¶æ®µç»“æŸ"
echo "ğŸ“ ä»£ç å·²åˆå¹¶åˆ° main"
echo "ğŸ“ temp åˆ†æ”¯æ–‡æ¡£å·²æ›´æ–°"
echo "ğŸ—‘ï¸ï¸ ä¸´æ—¶æ–‡æ¡£å·²æ¸…ç†"
```

**è¾“å‡ºï¼š**
- task åˆ†æ”¯çš„ä¸´æ—¶æ–‡æ¡£å·²æ¸…ç†
- ä»£ç ä¿®æ”¹å·²æäº¤åˆ° task åˆ†æ”¯
- temp åˆ†æ”¯çš„æ–‡æ¡£å·²æ›´æ–°
- ä»£ç å·²åˆå¹¶åˆ° main
- task åˆ†æ”¯å·²åˆ é™¤

---

## å¿«é€Ÿå¼€å§‹

### é¦–æ¬¡ä½¿ç”¨ï¼ˆåˆ›å»ºåŸºç¡€åˆ†æ”¯ï¼‰

```bash
# 1. éªŒè¯ main åˆ†æ”¯å¹²å‡€
git log main -- docs/  # åº”è¿”å›ç©º

# 2. åˆ›å»ºå­¤ç«‹ docs åˆ†æ”¯
git checkout --orphan docs
git rm -rf .
mkdir docs && echo "# Documentation" > docs/README.md
git add docs/ && git commit -m "chore(docs): init"

# 3. å›åˆ° main
git checkout main
```

### æ—¥å¸¸ä½¿ç”¨ï¼ˆä¸‰é˜¶æ®µå·¥ä½œæµï¼‰

```bash
# ===== ç¬¬ä¸€é˜¶æ®µï¼šå‡†å¤‡ =====
# æç¤ºè¯: "å¼€å§‹å‡†å¤‡é˜¶æ®µ"
git checkout main
git checkout --orphan temp
git rm -rf .
mkdir task-20250227 && echo "# Task" > task-20250227/instruction.md
git add task-20250227/ && git commit -m "chore(temp): add task docs"
git checkout main

# ===== ç¬¬äºŒé˜¶æ®µï¼šæ‰§è¡Œ =====
# æç¤ºè¯: "å¼€å§‹æ‰§è¡Œé˜¶æ®µ"
git checkout main
git checkout -b task-20250227-feature
git show temp:task-20250227/instruction.md > instruction.md
echo "*.md" > .git/info/exclude
# ... æ ¹æ® instruction.md æ‰§è¡Œä»»åŠ¡ ...

# ===== ç¬¬ä¸‰é˜¶æ®µï¼šå®Œæˆ =====
# æç¤ºè¯: "å¼€å§‹å®Œæˆé˜¶æ®µ"
rm instruction.md && rm .git/info/exclude
git add . && git commit -m "feat: å®Œæˆä»»åŠ¡"
git checkout temp && echo "âœ… å·²å®Œæˆ" >> task-20250227/README.md
git add . && git commit -m "docs: æ›´æ–°çŠ¶æ€"
git checkout main && git merge task-20250227-feature
git branch -d task-20250227-feature
```

---

## åˆ†æ”¯ç»“æ„

```
main  â†’  [A] â€” [B] â€” [C] â€” [D]     (ä»£ç å†å²ï¼Œæ—  docs/)
         â†‘
         â””â”€  task-* åˆ†æ”¯ä»æ­¤åˆ†å‡ºï¼Œæ‰§è¡Œååˆå¹¶

docs  â†’  [X]                      (å­¤ç«‹åˆ†æ”¯ï¼Œå­˜æ”¾æ­£å¼æ–‡æ¡£)

temp  â†’  [Y]                      (å­¤ç«‹åˆ†æ”¯ï¼Œå­˜æ”¾ä¸´æ—¶ä»»åŠ¡æ–‡æ¡£)
       â†³ task-20250227/
         â†³ task-20250228/
```

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: å®Œæ•´çš„ä¸‰é˜¶æ®µå·¥ä½œæµ

```bash
# ===== ç¬¬ä¸€é˜¶æ®µï¼šå‡†å¤‡ =====
# ç”¨æˆ·: "å¼€å§‹å‡†å¤‡é˜¶æ®µ"
git checkout main
git checkout --orphan temp 2>/dev/null || git checkout temp
git rm -rf . 2>/dev/null || true
mkdir -p task-auth-20250227
cat > task-auth-20250227/instruction.md << 'EOF'
# ç”¨æˆ·è®¤è¯æ¨¡å—å¼€å‘ä»»åŠ¡

## éœ€æ±‚
1. å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½
2. å®ç° JWT Token ç”Ÿæˆ
3. æ·»åŠ å¯†ç åŠ å¯†

## éªŒæ”¶æ ‡å‡†
- [ ] ç™»å½•æ¥å£æ­£å¸¸
- [ ] Token æœ‰æ•ˆæœŸæ­£ç¡®
- [ ] å¯†ç åŠ å¯†å®‰å…¨
EOF
git add task-auth-20250227/
git commit -m "chore(temp): æ·»åŠ è®¤è¯æ¨¡å—ä»»åŠ¡æ–‡æ¡£"
git checkout main

# ===== ç¬¬äºŒé˜¶æ®µï¼šæ‰§è¡Œ =====
# ç”¨æˆ·: "å¼€å§‹æ‰§è¡Œé˜¶æ®µ"
git checkout main
git checkout -b task-auth-20250227-feature
git show temp:task-auth-20250227/instruction.md > instruction.md
echo "*.md" > .git/info/exclude

# æ ¹æ® instruction.md æ‰§è¡Œå¼€å‘...
# ... å¼€å‘ä»£ç  ...

# æäº¤ä»£ç ï¼ˆä¸åŒ…å« instruction.mdï¼‰
git add src/auth/
git commit -m "feat: å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½"

# ===== ç¬¬ä¸‰é˜¶æ®µï¼šå®Œæˆ =====
# ç”¨æˆ·: "å¼€å§‹å®Œæˆé˜¶æ®µ"
rm instruction.md .git/info/exclude
git add src/
git commit -m "feat: å®Œæˆç”¨æˆ·è®¤è¯æ¨¡å—"

git checkout temp
echo "- å®Œæˆæ—¶é—´: $(date)" >> task-auth-20250227/instruction.md
echo "- çŠ¶æ€: âœ… å·²å®Œæˆ" >> task-auth-20250227/instruction.md
git add task-auth-20250227/
git commit -m "docs(temp): æ ‡è®°è®¤è¯ä»»åŠ¡å®Œæˆ"

git checkout main
git merge task-auth-20250227-feature -m "feat: åˆå¹¶ç”¨æˆ·è®¤è¯æ¨¡å—"
git branch -d task-auth-20250227-feature
```

---

## èµ„æºç´¢å¼•

- Git å‘½ä»¤å‚è€ƒ: è§ [references/git-commands.md](references/git-commands.md)
- åˆ†æ”¯ç­–ç•¥è¯¦è§£: è§ [references/branch-strategy.md](references/branch-strategy.md)

---

## æ³¨æ„äº‹é¡¹

1. **ä¸‰é˜¶æ®µå¿…é¡»åˆ†å¼€æ‰§è¡Œ**ï¼šæ¯ä¸ªé˜¶æ®µéƒ½æœ‰æ˜ç¡®çš„è§¦å‘æç¤ºè¯ï¼Œä¸è¦æ··åˆæ‰§è¡Œ
2. **temp åˆ†æ”¯æ˜¯å­¤ç«‹çš„**ï¼šä¸ main æ— å…±åŒå†å²ï¼Œæ— æ³•ç›´æ¥åˆå¹¶
3. **task åˆ†æ”¯åŸºäº main**ï¼šç¡®ä¿ä»£ç ä¿®æ”¹åŸºäºæœ€æ–°çš„ main åˆ†æ”¯
4. **ä¸´æ—¶æ–‡æ¡£ä¸è¿›å…¥å†å²**ï¼šé€šè¿‡ .git/info/exclude ç¡®ä¿ä¸´æ—¶æ–‡æ¡£ä¸è¢«æäº¤
5. **temp åˆ†æ”¯æ–‡æ¡£ä¿ç•™**ï¼šä»»åŠ¡å®Œæˆåï¼Œtemp åˆ†æ”¯çš„æ–‡æ¡£ä¿ç•™ä½œä¸ºè®°å½•