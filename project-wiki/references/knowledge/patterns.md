---
name: patterns
description: 常用设计模式速查，包含创建型、结构型、行为型模式的核心思想和应用场景
tags: [design-patterns, creational, structural, behavioral]
---

# 常用设计模式速查

## 创建型模式

### 单例模式 (Singleton)
- **目的**: 确保类只有一个实例，并提供全局访问点
- **适用场景**: 配置管理、数据库连接池、日志记录器
- **实现要点**: 私有构造函数、静态实例、线程安全

### 工厂模式 (Factory)
- **目的**: 封装对象创建逻辑，解耦创建与使用
- **适用场景**: 需要根据不同条件创建不同对象时
- **实现要点**: 工厂方法、抽象产品接口

### 建造者模式 (Builder)
- **目的**: 分步骤构建复杂对象，支持链式调用
- **适用场景**: 复杂对象构造、配置对象构建
- **实现要点**: 建造者类、链式方法、build() 方法

## 结构型模式

### 适配器模式 (Adapter)
- **目的**: 将不兼容接口转换为兼容接口
- **适用场景**: 集成第三方库、遗留系统适配
- **实现要点**: 目标接口、适配器类、被适配对象

### 装饰器模式 (Decorator)
- **目的**: 动态添加功能，不修改原有代码
- **适用场景**: 功能扩展、中间件、权限控制
- **实现要点**: 组件接口、具体组件、装饰器基类

### 代理模式 (Proxy)
- **目的**: 控制对象访问，添加额外逻辑
- **适用场景**: 延迟加载、访问控制、日志记录
- **实现要点**: 代理类、真实对象、相同接口

### 外观模式 (Facade)
- **目的**: 简化复杂子系统的接口
- **适用场景**: 复杂系统封装、API 网关
- **实现要点**: 统一接口、子系统封装

## 行为型模式

### 观察者模式 (Observer)
- **目的**: 定义对象间的一对多依赖，状态变更自动通知
- **适用场景**: 事件系统、消息订阅、数据绑定
- **实现要点**: 主题接口、观察者接口、订阅/通知机制

### 策略模式 (Strategy)
- **目的**: 封装算法族，使它们可互相替换
- **适用场景**: 多种算法选择、支付方式、排序策略
- **实现要点**: 策略接口、具体策略、上下文

### 命令模式 (Command)
- **目的**: 将请求封装为对象，支持撤销/重做
- **适用场景**: 操作队列、撤销功能、宏命令
- **实现要点**: 命令接口、具体命令、接收者

### 模板方法模式 (Template Method)
- **目的**: 定义算法骨架，子类实现具体步骤
- **适用场景**: 流程固定但步骤可变、框架设计
- **实现要点**: 抽象类、模板方法、钩子方法

## 模式选择指南

| 问题 | 推荐模式 |
|------|---------|
| 需要唯一实例 | 单例模式 |
| 需要动态创建对象 | 工厂模式 |
| 需要构建复杂对象 | 建造者模式 |
| 需要扩展功能 | 装饰器模式 |
| 需要简化接口 | 外观模式 |
| 需要事件通知 | 观察者模式 |
| 需要切换算法 | 策略模式 |
| 需要支持撤销 | 命令模式 |
