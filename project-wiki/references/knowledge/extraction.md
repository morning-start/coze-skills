# 知识提取

知识提取从项目代码中自动提取结构化知识，生成可复用的文档和索引。

## 功能概述

| 功能 | 说明 |
|------|------|
| 代码解析 | 解析代码结构（类、函数、接口） |
| 知识抽取 | 从代码注释和文档字符串提取知识 |
| API 提取 | 自动提取 API 接口定义 |
| 关系识别 | 识别模块间、类间的关系 |

## 提取内容

### 1. 代码结构

```
提取内容：
- 类名、方法名、属性
- 函数签名和参数
- 继承关系
- 接口定义
```

### 2. 文档知识

```
提取内容：
- 文档字符串（docstring）
- 注释中的说明
- README 内容
- 类型注解
```

### 3. API 信息

```
提取内容：
- API 路由
- 请求方法和参数
- 响应格式
- 认证要求
```

### 4. 依赖关系

```
提取内容：
- 导入关系
- 模块依赖
- 外部依赖
- 版本信息
```

## 执行流程

### 1. 代码扫描

```
1. 遍历项目源代码
2. 识别代码文件类型
3. 解析代码结构
4. 提取关键信息
```

### 2. 知识抽取

```
1. 处理文档字符串
2. 解析注释内容
3. 提取类型信息
4. 整理知识要点
```

### 3. 结构化输出

```
1. 转换为结构化格式
2. 生成知识索引
3. 建立关联关系
4. 保存到知识库
```

## 输出格式

### 结构化数据

```json
{
  "module": {
    "name": "user",
    "classes": [
      {
        "name": "UserService",
        "methods": [
          {
            "name": "create_user",
            "params": ["username", "email"],
            "return": "User"
          }
        ]
      }
    ]
  }
}
```

### 知识索引

```
wiki/references/
├── modules/
│   └── user-service.md
├── apis/
│   └── user-api.md
└── dependencies/
    └── dependency-graph.md
```

## 使用场景

### 场景 1：项目接手
- 快速理解代码结构
- 生成项目文档

### 场景 2：API 文档生成
- 自动提取 API 定义
- 生成 API 文档

### 场景 3：知识库构建
- 从代码提取知识
- 构建项目知识库

## 注意事项

- 知识提取基于代码静态分析
- 运行时行为需要动态分析补充
- 提取结果需人工审核
- 定期更新以反映代码变更
