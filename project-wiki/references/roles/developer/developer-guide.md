# 开发者指南

## 目录

1. [角色定位](#角色定位)
2. [核心职责](#核心职责)
3. [必备文档](#必备文档)
4. [最佳实践](#最佳实践)
5. [相关模板](#相关模板)

---

## 角色定位

作为开发工程师，你是系统实现的执行者，负责：
- 实现模块功能
- 编写高质量代码
- 保证代码可维护性
- 配合测试和运维工作

**你的关注点**：
- ✅ 模块接口定义
- ✅ 数据结构
- ✅ 状态流转
- ✅ 错误处理规则
- ✅ 本地调试方式

---

## 核心职责

### 1. 模块设计

**产出**：模块设计文档

**内容要求**：
- 模块概述
  - 模块功能
  - 职责边界
  - 依赖关系
- 类图
  - 类定义
  - 类之间的关系
- 序列图
  - 方法调用流程
  - 数据流转
- 数据结构
  - 核心数据结构
  - 字段说明
- 接口定义
  - 公开接口
  - 接口参数
  - 返回值
- 状态流转
  - 状态定义
  - 状态转换规则
- 错误处理
  - 错误码定义
  - 异常处理逻辑
- 测试要点（供测试工程师参考）
  - 边界条件
  - 异常场景
- 本地调试方式
  - 启动步骤
  - 调试技巧

**模板**：[module-design-template.md](module-design-template.md)

---

### 2. API 文档编写

**产出**：API 文档

**内容要求**：
- 接口概述
- 数据模型
  - 字段定义
  - 类型约束
  - 示例值
- 数据流动
  - 时序图
  - 数据转换
- 请求参数
  - 路径参数
  - 查询参数
  - 请求体
- 响应格式
  - 成功响应
  - 错误响应
- 错误码
  - 错误码列表
  - 错误处理建议
- 使用示例
  - cURL 示例
  - 代码示例

**模板**：[../templates/api-template.md](../templates/api-template.md)

---

### 3. 代码质量

**关注点**：
- 代码规范
- 单元测试覆盖率
- 代码审查
- 技术债务管理

---

## 必备文档

### 1. 模块设计文档

**路径**：`wiki/04-模块文档/<模块>/`

**命名规范**：
- `module-design.md` - 模块设计文档
- `class-design.md` - 类设计文档（可选）
- `state-machine.md` - 状态机文档（可选）

**示例**：
```
wiki/04-模块文档/用户服务/
├── module-design.md
├── class-design.md
└── state-machine.md
```

**使用模板**：[module-design-template.md](module-design-template.md)

---

### 2. API 文档

**路径**：`wiki/03-API文档/`

**命名规范**：`<接口名称>-api.md`

**示例**：
```
wiki/03-API文档/
├── 用户登录-api.md
├── 用户注册-api.md
└── 用户信息-api.md
```

**使用模板**：[../templates/api-template.md](../templates/api-template.md)

---

### 3. 开发环境搭建

**路径**：`wiki/02-开发指南/`

**命名规范**：`setup.md`

**内容**：
- 环境要求
- 依赖安装
- 配置说明
- 启动步骤

---

## 最佳实践

### ✅ 模块设计

1. **清晰的职责边界**
   - 单一职责原则
   - 明确模块边界
   - 避免循环依赖

2. **可视化设计**
   - 使用类图展示结构
   - 使用序列图展示流程
   - 使用状态机展示状态流转

3. **文档驱动开发**
   - 先写设计文档
   - 再写代码实现
   - 最后更新文档

---

### ✅ API 设计

1. **RESTful 规范**
   - 使用 HTTP 动词
   - 资源命名规范
   - 统一的响应格式

2. **数据模型完整**
   - 完整的字段定义
   - 明确的类型约束
   - 提供示例值

3. **数据流动清晰**
   - 时序图展示流程
   - 数据转换说明
   - 缓存策略说明

---

### ✅ 代码质量

1. **单元测试**
   - 测试覆盖率 > 80%
   - 边界条件测试
   - 异常场景测试

2. **代码审查**
   - 每次提交需要审查
   - 关注代码规范
   - 关注潜在问题

3. **技术债务**
   - 定期清理技术债务
   - 记录技术债务
   - 制定偿还计划

---

## 相关模板

### 模块设计文档模板

📄 [module-design-template.md](module-design-template.md)

**包含内容**：
- 模块概述
- 类图和序列图
- 数据结构定义
- 接口定义
- 状态流转
- 错误处理
- 测试要点
- 本地调试方式

---

### API 文档模板

📄 [../templates/api-template.md](../templates/api-template.md)

**包含内容**：
- 接口概述
- 数据模型
- 数据流动
- 请求参数
- 响应格式
- 错误码
- 使用示例

---

## 常见问题

### Q1: 模块设计文档应该包含哪些内容？

**A**：至少包含：
1. 模块概述（功能、职责、依赖）
2. 类图和序列图
3. 数据结构定义
4. 接口定义
5. 状态流转（如有）
6. 错误处理
7. 测试要点
8. 本地调试方式

### Q2: 什么时候需要写类图？

**A**：以下情况需要写类图：
1. 模块包含多个类
2. 类之间关系复杂
3. 需要向其他人解释结构
4. 新人入职学习

### Q3: API 文档中的数据流动应该怎么写？

**A**：
1. 使用 Mermaid 时序图
2. 展示完整的请求-响应流程
3. 说明每个阶段的数据转换
4. 标注缓存策略

---

## 资源链接

- [RESTful API 设计指南](https://restfulapi.net/)
- [UML 类图教程](https://www.uml-diagrams.org/class-diagrams.html)
- [Mermaid 语法](https://mermaid-js.github.io/mermaid/)

---

**最后更新**：2024-02-19
