# 结构优化

结构优化帮助自动分析和优化项目目录结构，使其更符合最佳实践。

## 功能概述

| 功能 | 说明 |
|------|------|
| 自适应结构 | 根据项目类型自动调整目录结构 |
| 上下文感知 | 根据代码内容感知最佳组织方式 |
| 结构分析 | 分析现有结构的合理性 |
| 优化建议 | 提供结构改进建议 |

## 自适应结构

根据项目类型推荐最佳目录结构：

### 后端项目
```
src/
├── api/            # API 接口
├── models/         # 数据模型
├── services/       # 业务逻辑
├── utils/         # 工具函数
├── middleware/    # 中间件
└── config/        # 配置
```

### 前端项目
```
src/
├── components/    # 组件
├── pages/         # 页面
├── hooks/         # 自定义 Hook
├── utils/        # 工具函数
├── services/     # 服务层
└── assets/       # 静态资源
```

### 跨平台项目
```
lib/
├── core/          # 核心逻辑
├── platform/     # 平台特定代码
├── widgets/      # 自定义组件
└── utils/        # 工具函数
```

## 上下文感知

根据代码内容自动感知最佳组织方式：

### 模块识别
- 识别代码中的模块边界
- 推荐模块划分方案

### 依赖分析
- 分析模块间依赖关系
- 提供依赖优化建议

### 层次感知
- 根据代码复杂度推荐层级
- 避免过度分层或分层不足

## 执行流程

### 1. 结构分析

```
1. 扫描现有目录结构
2. 识别文件类型和数量
3. 分析依赖关系
4. 评估结构合理性
```

### 2. 方案生成

```
1. 对比最佳实践
2. 生成优化方案
3. 评估影响范围
4. 排序优化优先级
```

### 3. 优化实施

```
1. 确认优化方案
2. 执行结构变更
3. 更新引用关系
4. 验证功能正常
```

## 优化维度

### 1. 目录层级
- 层级深度是否合理
- 目录命名是否规范
- 是否存在冗余层级

### 2. 模块划分
- 模块边界是否清晰
- 模块职责是否单一
- 模块依赖是否合理

### 3. 文件组织
- 相似文件是否归类
- 文件命名是否一致
- 是否存在重复文件

### 4. 命名规范
- 目录命名是否统一
- 文件命名是否规范
- 命名是否语义清晰

## 注意事项

- 结构优化前需备份
- 大规模变更建议分批执行
- 变更后需验证功能正常
- 保持团队沟通一致
