# ADR 模板

## 基本信息

| 字段 | 内容 |
|------|------|
| ADR 编号 | ADR-XXX |
| 决策标题 | <决策名称> |
| 状态 | <Proposed / Accepted / Deprecated / Superseded> |
| 创建时间 | YYYY-MM-DD |
| 决策人 | <姓名> |
| 相关 ADR | <ADR-编号> |

---

## Status

<Accepted / Proposed / Rejected / Deprecated / Superseded>

**状态说明**：
- **Proposed**：提议中，待评审
- **Accepted**：已接受，正在执行
- **Rejected**：已拒绝，不执行
- **Deprecated**：已废弃，不再使用
- **Superseded**：已被新 ADR 替代

---

## Context and Problem Statement

<描述决策背景和问题>

**要点**：
- 为什么要做这个决策？
- 当前面临的问题是什么？
- 为什么现在需要决策？

**示例**：
```
我们需要选择一个消息队列来处理异步任务。当前系统使用轮询方式处理任务，存在以下问题：
1. 轮询效率低，资源浪费
2. 无法实现任务优先级
3. 难以扩展和监控
```

---

## Decision Drivers

<决策驱动因素>

**要点**：
- 性能要求
- 成本预算
- 团队技能
- 技术栈兼容性
- 维护成本

**示例**：
```
1. 性能：需要支持 10,000 TPS
2. 成本：预算 < $1000/月
3. 团队：团队有 Go 语言经验
4. 技术栈：使用 Kubernetes 部署
5. 维护：需要易于监控和调试
```

---

## Considered Options

<考虑的选项>

### Option 1: <选项名称>

**描述**：
<简要描述>

**优点**：
- 优点 1
- 优点 2

**缺点**：
- 缺点 1
- 缺点 2

**成本评估**：
<估算成本>

**技术复杂度**：<Low / Medium / High>

---

### Option 2: <选项名称>

**描述**：
<简要描述>

**优点**：
- 优点 1
- 优点 2

**缺点**：
- 缺点 1
- 缺点 2

**成本评估**：
<估算成本>

**技术复杂度**：<Low / Medium / High>

---

### Option 3: <选项名称>

**描述**：
<简要描述>

**优点**：
- 优点 1
- 优点 2

**缺点**：
- 缺点 1
- 缺点 2

**成本评估**：
<估算成本>

**技术复杂度**：<Low / Medium / High>

---

## Decision Outcome

<决策结果>

**Chosen Option**: <选择的选项>

**理由**：
<说明为什么选择这个选项>

**示例**：
```
选择 Option 2（RabbitMQ），理由如下：
1. 性能满足需求（支持 50,000 TPS）
2. 成本符合预算（开源免费）
3. 团队有使用经验
4. 社区活跃，文档完善
5. 支持 Kubernetes 部署
```

---

## Consequences

### Positive Consequences

<正面影响>

**示例**：
```
1. 任务处理效率提升 10 倍
2. 支持任务优先级
3. 易于监控和调试
4. 降低服务器资源占用
```

---

### Negative Consequences

<负面影响>

**示例**：
```
1. 需要维护消息队列集群
2. 增加系统复杂度
3. 需要学习新的监控工具
```

---

### Risks and Mitigations

**风险 1**: <风险描述>
**缓解措施**: <如何缓解>

**示例**：
```
风险 1: 消息队列单点故障
缓解措施: 使用 RabbitMQ 集群模式，设置主备节点
```

**风险 2**: <风险描述>
**缓解措施**: <如何缓解>

---

## Implementation Plan

<实施计划>

| 阶段 | 任务 | 负责人 | 预计时间 | 状态 |
|------|------|--------|----------|------|
| 阶段 1 | 任务描述 | 姓名 | YYYY-MM-DD | Pending |
| 阶段 2 | 任务描述 | 姓名 | YYYY-MM-DD | Pending |
| 阶段 3 | 任务描述 | 姓名 | YYYY-MM-DD | Pending |

---

## Validation and Measurement

<验证和测量指标>

**成功指标**：
1. 指标 1：<具体指标和目标值>
2. 指标 2：<具体指标和目标值>

**验证方法**：
<如何验证决策是否成功>

**示例**：
```
成功指标：
1. 任务处理延迟 < 100ms（P99）
2. 任务吞吐量 > 10,000 TPS
3. 消息丢失率 < 0.01%

验证方法：
1. 使用性能测试工具进行压力测试
2. 监控系统实时收集指标
3. 定期 review 性能报告
```

---

## Pros and Cons of the Options

| 选项 | 优点 | 缺点 | 成本 | 复杂度 |
|------|------|------|------|--------|
| Option 1 | 优点 1<br/>优点 2 | 缺点 1<br/>缺点 2 | $X | Low |
| Option 2 | 优点 1<br/>优点 2 | 缺点 1<br/>缺点 2 | $Y | Medium |
| Option 3 | 优点 1<br/>优点 2 | 缺点 1<br/>缺点 2 | $Z | High |

---

## Links and References

<相关链接>

- [链接 1](URL)
- [链接 2](URL)
- [ADR-XXX](相关 ADR)

---

## Related Decisions

<相关决策>

- ADR-XXX: <决策名称>
- ADR-XXX: <决策名称>

---

## Revisions

| 版本 | 时间 | 修改内容 | 修改人 |
|------|------|----------|--------|
| v1.0 | YYYY-MM-DD | 初始版本 | 姓名 |
| v1.1 | YYYY-MM-DD | 修改内容 | 姓名 |

---

## Notes

<其他说明>

---

**最后更新**：YYYY-MM-DD
